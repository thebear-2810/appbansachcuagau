<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shine Books - Giỏ Hàng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <style>
        :root {
            --shine-orange: #F97316;
            --shine-orange-dark: #EA580C;
        }
        .bg-primary { background-color: var(--shine-orange); }
        .bg-primary-dark { background-color: var(--shine-orange-dark); }
        .text-primary { color: var(--shine-orange); }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-slate-100">

    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="text-3xl font-extrabold text-primary">Shine Books</a>
            <a href="product-listing.html" class="text-slate-600 hover:text-primary transition">&larr; Tiếp tục mua sắm</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <h1 class="text-3xl md:text-4xl font-bold text-slate-800 mb-8">Giỏ Hàng Của Bạn</h1>
        
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Cart Items -->
            <div class="w-full lg:w-2/3 bg-white p-6 rounded-lg shadow">
                <div id="cart-items" class="divide-y divide-slate-200">
                    <!-- Item 1 -->
                    <div class="cart-item flex items-center py-4">
                        <img src="https://placehold.co/100x150/F97316/FFFFFF?text=Dac+Nhan+Tam" alt="Book" class="w-20 h-30 object-cover rounded-md">
                        <div class="ml-4 flex-grow">
                            <h3 class="font-semibold text-slate-800">Đắc Nhân Tâm</h3>
                            <p class="text-sm text-slate-500">Dale Carnegie</p>
                        </div>
                        <div class="flex items-center border border-slate-300 rounded-md mx-4">
                            <button class="decrease-qty px-3 py-1">-</button>
                            <input type="text" value="1" class="quantity w-10 text-center outline-none">
                            <button class="increase-qty px-3 py-1">+</button>
                        </div>
                        <div class="w-24 text-right font-semibold text-slate-800" data-price="79000">79.000đ</div>
                        <button class="remove-item ml-6 text-slate-400 hover:text-red-500">&times;</button>
                    </div>
                     <!-- Item 2 -->
                    <div class="cart-item flex items-center py-4">
                        <img src="https://placehold.co/100x150/3B82F6/FFFFFF?text=Nha+Gia+Kim" alt="Book" class="w-20 h-30 object-cover rounded-md">
                        <div class="ml-4 flex-grow">
                            <h3 class="font-semibold text-slate-800">Nhà Giả Kim</h3>
                            <p class="text-sm text-slate-500">Paulo Coelho</p>
                        </div>
                        <div class="flex items-center border border-slate-300 rounded-md mx-4">
                            <button class="decrease-qty px-3 py-1">-</button>
                            <input type="text" value="2" class="quantity w-10 text-center outline-none">
                            <button class="increase-qty px-3 py-1">+</button>
                        </div>
                        <div class="w-24 text-right font-semibold text-slate-800" data-price="69000">138.000đ</div>
                        <button class="remove-item ml-6 text-slate-400 hover:text-red-500">&times;</button>
                    </div>
                     <!-- Item 3 -->
                    <div class="cart-item flex items-center py-4">
                        <img src="https://placehold.co/100x150/84CC16/FFFFFF?text=Atomic+Habits" alt="Book" class="w-20 h-30 object-cover rounded-md">
                        <div class="ml-4 flex-grow">
                            <h3 class="font-semibold text-slate-800">Atomic Habits</h3>
                            <p class="text-sm text-slate-500">James Clear</p>
                        </div>
                        <div class="flex items-center border border-slate-300 rounded-md mx-4">
                            <button class="decrease-qty px-3 py-1">-</button>
                            <input type="text" value="1" class="quantity w-10 text-center outline-none">
                            <button class="increase-qty px-3 py-1">+</button>
                        </div>
                        <div class="w-24 text-right font-semibold text-slate-800" data-price="139000">139.000đ</div>
                        <button class="remove-item ml-6 text-slate-400 hover:text-red-500">&times;</button>
                    </div>
                </div>
            </div>

            <!-- Order Summary -->
            <div class="w-full lg:w-1/3">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2">Tóm Tắt Đơn Hàng</h2>
                    <div class="space-y-3 text-slate-600">
                        <div class="flex justify-between">
                            <span>Tạm tính</span>
                            <span id="subtotal">356.000đ</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Phí vận chuyển</span>
                            <span>Miễn phí</span>
                        </div>
                        <div class="flex justify-between font-bold text-slate-800 text-lg border-t pt-3">
                            <span>Tổng cộng</span>
                            <span id="total">356.000đ</span>
                        </div>
                    </div>
                    <button class="w-full mt-6 bg-primary hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-lg transition">Tiến Hành Thanh Toán</button>
                </div>
            </div>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            function formatCurrency(value) {
                return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value).replace('₫', 'đ');
            }

            function updateSummary() {
                let subtotal = 0;
                document.querySelectorAll('.cart-item').forEach(item => {
                    const priceElement = item.querySelector('[data-price]');
                    const price = parseFloat(priceElement.dataset.price);
                    const quantity = parseInt(item.querySelector('.quantity').value);
                    subtotal += price * quantity;
                });

                document.getElementById('subtotal').textContent = formatCurrency(subtotal);
                document.getElementById('total').textContent = formatCurrency(subtotal); // Assuming free shipping
            }

            document.getElementById('cart-items').addEventListener('click', (e) => {
                const item = e.target.closest('.cart-item');
                if (!item) return;
                
                const quantityInput = item.querySelector('.quantity');
                const priceElement = item.querySelector('[data-price]');
                const pricePerItem = parseFloat(priceElement.dataset.price);
                let quantity = parseInt(quantityInput.value);

                if (e.target.classList.contains('increase-qty')) {
                    quantity++;
                }
                
                if (e.target.classList.contains('decrease-qty') && quantity > 1) {
                    quantity--;
                }

                if (e.target.classList.contains('remove-item')) {
                    item.remove();
                }

                quantityInput.value = quantity;
                priceElement.textContent = formatCurrency(pricePerItem * quantity);
                updateSummary();
            });

            updateSummary(); // Initial calculation
        });
    </script>
</body>
</html>

